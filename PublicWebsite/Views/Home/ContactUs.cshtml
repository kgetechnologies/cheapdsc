@using cheapdscin.Models
@model ContactUs
@{
	var product = cheapdscin.Models.Products.Class3IndividualEncryption;
}

<main>
	<section class="section-base">
		<div class="container">		
			<div class="row">
				<div class="col-lg-8">
					<div class="title">
						<h2>Reach Us</h2>
					</div>
					@using (Ajax.BeginForm("ContactUsForm", "Home",
				   new AjaxOptions
				   {
					   HttpMethod = "POST",
					   OnSuccess = "OnSuccess",
					   OnFailure = "OnFailure",
					   LoadingElementId = "progress"
				   }, new { @autocomplete = "false" }))
					{
						@Html.AntiForgeryToken()
						<div class="row">
							<div class="col-lg-6">
								<p>Name</p>
								@Html.TextBoxFor(m => m.Name, new { @id = "name", @name = "name", @placeholder = "Name", @type = "text", @class = "input-text", @required = "required" })
							</div>
							<div class="col-lg-6">
								<p>Email</p>
								@Html.TextBoxFor(m => m.Email, new { @id = "email", @name = "email", @placeholder = "email", @type = "email", @class = "input-text", @required = "required" })
							</div>
							<div class="col-lg-6">
								<p>Contact Number</p>
								@Html.TextBoxFor(m => m.ContactNumber, new { @id = "ContactNumber", @name = "ContactNumber", @placeholder = "ContactNumber", @type = "ContactNumber", @class = "input-text", @required = "required" })
							</div>
							<div class="col-lg-6">
								<p>Zip Code</p>
								@Html.TextBoxFor(m => m.ZipCode, new { @id = "ZipCode", @name = "ZipCode", @placeholder = "ZipCode", @type = "ZipCode", @maxlength = "6", @class = "input-text", @required = "required" })
							</div>
							<div class="col-lg-6">
								<p>Interested Product</p>
								@Html.EnumDropDownListFor(m => m.Product, "Select a Product", new { @name = "product", @id = "product", @class = "input-select" })
							</div>
							<div class="col-lg-6">
								<p>Already Using Any Usb Token?</p>
								@Html.CheckBoxFor(m => m.AlreadyHavingUsbToken, new { @name = "AlreadyHavingUsbToken", @id = "AlreadyHavingUsbToken", @class = "input-select" })

							</div>
						</div>
						<p>Message</p>
						@Html.TextAreaFor(m => m.Message, new { @id = "messagge", @name = "messagge", @class = "input-textarea", @placeholder = "How can we help you, please provide your need details", @required = "required" })

						<div class="form-checkbox">
							@Html.CheckBoxFor(m => m.Agreed, new { @name = "Agreed", @id = "Agreed", @required = "required" })
							<label for="Agreed">You accept the terms of service and the privacy policy</label>
						</div>

						<div class="success-box d-none">
							<div class="alert alert-success">Congratulations. Enquriy Submitted Successfully</div>
						</div>
						<div class="error-box d-none">
							<div class="alert alert-warning">Error, Occurred Please call or whatsapp our Team.</div>
						</div>

						<button class="btn btn-sm" type="submit">Send message</button>
					}

				</div>
				<div class="col-lg-4">
					<div class="title">
						<h2>Contacts</h2>
						<p>Information</p>
					</div>
					<ul class="text-list text-list-line">
						<li><b>Address</b><hr /><p>Pellegrino, Veneto, Italy</p></li>
						<li><b>Web</b><hr /><p>domain.com</p></li>
						<li><b>Email</b><hr /><p>info@domain.com</p></li>
						<li><b>Phone</b><hr /><p>(02) 123 456 789999</p></li>
						<li><b>Skype</b><hr /><p>example.name</p></li>
					</ul>
					<hr class="space-sm" />
					<div class="icon-links">
						<a class="facebook"><i class="icon-facebook"></i></a>
						<a class="twitter"><i class="icon-twitter"></i></a>
						<a class="instagram"><i class="icon-instagram"></i></a>
						<a class="google"><i class="icon-google"></i></a>
					</div>
				</div>
			</div>
		</div>
	</section>
	<script type="text/javascript">
		function OnSuccess(response) {
			alert("success>>" + response);

			$(".success-box").removeClass("d-none");
			if (!$(".error-box").hasClass("d-none"))
				$(".error-box").addClass("d-none");
		}
		function OnFailure(response) {
			alert("Error occured.");
			$(".error-box").removeClass("d-none");
			if ($(".success-box").hasClass("d-none"))
				$(".success-box").addClass("d-none");
		}
	</script>
	<script type="text/javascript">
		$(document).ready(function () {
			$("#submitButton").click(function (ev) {
				var form = $("#contactForm");
				var url = form.attr('action');
				$.ajax({
					type: "POST",
					url: url,

					data: form.serialize(),
					success: function (data) {
						if (data != null && date === "Success") {
							alert('Success');
						}
						else {
							alert('Failure');
						}
					},
					error: function (data) {
						alert("Error Occurred");
					}
				});
			});
			$("#contactForm").submit((e) => {
				var _this = e;
			});

		});
	</script>
</main>
